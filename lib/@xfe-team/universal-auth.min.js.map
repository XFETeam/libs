{"version":3,"sources":["webpack://@xfe-team/universal-auth/webpack/universalModuleDefinition","webpack://@xfe-team/universal-auth/webpack/bootstrap","webpack://@xfe-team/universal-auth/./node_modules/detect-mobile-device/dist/index.es.js","webpack://@xfe-team/universal-auth/./src/constants/index.js","webpack://@xfe-team/universal-auth/./src/global-config/index.js","webpack://@xfe-team/universal-auth/./node_modules/jsonp-promise/index.js","webpack://@xfe-team/universal-auth/./src/utils/create-auth-error.js","webpack://@xfe-team/universal-auth/./src/utils/create-auth-success.js","webpack://@xfe-team/universal-auth/./src/auth/qq-weixin-auth/index.js","webpack://@xfe-team/universal-auth/./src/utils/get-url-parameter-by-name.js","webpack://@xfe-team/universal-auth/./src/auth/daily-auth/index.js","webpack://@xfe-team/universal-auth/./src/global-auth-data/index.js","webpack://@xfe-team/universal-auth/./src/utils/is-daily-app.js","webpack://@xfe-team/universal-auth/./src/utils/is-mobile.js","webpack://@xfe-team/universal-auth/./src/utils/is-mqq.js","webpack://@xfe-team/universal-auth/./src/utils/is-weixin.js","webpack://@xfe-team/universal-auth/./src/utils/create-auth.js","webpack://@xfe-team/universal-auth/./src/utils/check-is-master-env.js","webpack://@xfe-team/universal-auth/./src/auth/xoyo-auth/index.js","webpack://@xfe-team/universal-auth/./src/auth/general/services.js","webpack://@xfe-team/universal-auth/./src/auth/general/index.js","webpack://@xfe-team/universal-auth/./src/auth/authInfo-by-appEnv/index.js","webpack://@xfe-team/universal-auth/./src/auth/qq-weixin-auth/services.js","webpack://@xfe-team/universal-auth/./src/auth/daily-auth/services.js","webpack://@xfe-team/universal-auth/./src/utils/replace-url-without-reloading.js","webpack://@xfe-team/universal-auth/./src/utils/remove-url-param.js","webpack://@xfe-team/universal-auth/./src/auth/daily-auth/utils/get-daily-token.js","webpack://@xfe-team/universal-auth/./src/utils/is-mweibo.js","webpack://@xfe-team/universal-auth/./src/utils/is-android.js","webpack://@xfe-team/universal-auth/./src/utils/is-ios.js","webpack://@xfe-team/universal-auth/./src/auth/xoyo-auth/services.js","webpack://@xfe-team/universal-auth/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getUserAgent","navigator","userAgent","vendor","window","opera","toLowerCase","isMobile","test","substr","isAndroid","isIOS","MSStream","isWeiXin","String","match","isMWeiXin","isMQQ","isIOSQQ","isAndroidQQ","split","isMWeibo","isJianghuDaily","__webpack_exports__","_checkIsMasterEnv","_interopRequireDefault","XOYO_ROOT_API","default","XOYO_LOGIN_API","PASSPORT_ROOT_ADDRESS","MOBILELOGIN_URL","_isWeixin","_isMqq","_isMweibo","_isDailyApp","GlobalConfig","_classCallCheck","_isMaster","_isDailyOnly","_loginType","filter","Boolean","_hasEnterAuth","newStatus","count","url","options","script","timer","cleanup","cancel","prefix","param","timeout","target","document","getElementsByTagName","head","noop","id","parentNode","removeChild","clearTimeout","promise","Promise","resolve","reject","setTimeout","Error","data","indexOf","encodeURIComponent","replace","createElement","src","insertBefore","_createAuth","isXoyo","_services","_createAuthSuccess","_createAuthError","_globalConfig","getQQWeixinAuth","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","qqWeixinAuthInfo","globalConfig","currentUserInfo","requireThirdPartyLogin","loginType","response","wrap","_context","prev","next","getCurrentUserInfo","sent","status","code","getAuthUrl","location","href","auth_url","JSON","stringify","abrupt","stop","apply","arguments","results","RegExp","exec","decodeURIComponent","_getDailyToken","_removeUrlParam","_replaceUrlWithoutReloading","_getUrlParameterByName","getDailyAuth","_ref2","token","_ref2$limitGuest","limitGuest","_ref2$limitOnlyHasJx","limitOnlyHasJx3RoleAccessInDaily","dailyAutoInfo","accountInfo","_args","length","undefined","hasEnterAuth","nextSearch","search","pathname","hash","loginByToken","getAccountInfo","app_default_passport_roles","GlobalAuthData","_XOYO_AUTH","_THIRD_PARTY_AUTH","_detectMobileDevice","_isMobile","_isIos","_isAndroid","_globalAuthData","globalAuthName","globalAuthData","authResponse","ua","hostname","isNotTest","isXoyoHost","getXoyoAuth","xoyoAuthData","getInfo","reason","alert","_jsonpPromise","_constants","logout","concat","login","encodedURL","_ref$shouldRefresh","shouldRefresh","_ref$onSuccess","onSuccess","_ref$onFail","onFail","reload","_x","_dailyAuth","_qqWeixinAuth","_xoyoAuth","getAuthInfoByAppEnv","_ref$daily","daily","_ref$limitOnlyHasJx3R","_ref$weixinQQ","weixinQQ","_ref$xoyo","xoyo","_ref$debug","debug","_ref$disable","disable","THIRD_PARTY_AUTH","XOYO_AUTH","qs","Date","_ref$callbackUrl","callbackUrl","_ref$limitGuest","nextUrl","history","replaceState","title","parameter","urlParts","pars","lastIndexOf","splice","join","_authInfoByAppEnv","_general","require"],"mappings":"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","file":"@xfe-team/universal-auth.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@xfe-team/universal-auth\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@xfe-team/universal-auth\"] = factory();\n\telse\n\t\troot[\"@xfe-team/universal-auth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","/**\r\n * 获取 UA\r\n * @return {string}\r\n */\r\nfunction getUserAgent() {\r\n    var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n    return userAgent.toLowerCase();\r\n}\r\n/**\r\n * 判断是否是手机\r\n * @return {boolean}\r\n */\r\nfunction isMobile() {\r\n    var userAgent = getUserAgent();\r\n    return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series([46])0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent) ||\r\n        // eslint-disable-next-line\r\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ -\\/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ \\/])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(userAgent.substr(0, 4)));\r\n}\r\n/**\r\n * 判断是否是 android 设备\r\n * @return {boolean}\r\n */\r\nfunction isAndroid() {\r\n    return /android/i.test(getUserAgent());\r\n}\r\n/**\r\n * 判断是否 ios 设备\r\n * @return {boolean}\r\n */\r\nfunction isIOS() {\r\n    return (/iPad|iPhone|iPod/i.test(getUserAgent()) && !window.MSStream);\r\n}\r\n/**\r\n * 是否是 微信 设备\r\n * @return {boolean}\r\n */\r\nfunction isWeiXin() {\r\n    var userAgent = getUserAgent();\r\n    return String(userAgent.match(/MicroMessenger/i)) === 'micromessenger';\r\n}\r\n/**\r\n * 判断是否是 mobile 微信\r\n * @return {boolean}\r\n */\r\nfunction isMWeiXin() {\r\n    return isMobile() && isWeiXin();\r\n}\r\n/**\r\n * 判断是否是手机qq\r\n * @return {boolean}\r\n */\r\nfunction isMQQ() {\r\n    var userAgent = getUserAgent();\r\n    var isIOSQQ = isIOS() && / QQ/i.test(userAgent);\r\n    var isAndroidQQ = isAndroid() &&\r\n        /MQQBrowser/i.test(navigator.userAgent) &&\r\n        /QQ/i.test(userAgent.split('mqqbrowser'));\r\n    return isMobile() && (isIOSQQ || isAndroidQQ);\r\n}\r\n/**\r\n * 判断是否是手机微博 UA\r\n * @return {boolean}\r\n */\r\nfunction isMWeibo() {\r\n    var userAgent = getUserAgent();\r\n    return isMobile() && /(weibo)/.test(userAgent);\r\n}\r\n/**\r\n * 判断是否是江湖 daily App\r\n */\r\nfunction isJianghuDaily() {\r\n    var userAgent = getUserAgent();\r\n    return /jianghudaily/i.test(userAgent);\r\n}\n\nexport { getUserAgent, isMobile, isAndroid, isIOS, isWeiXin, isMWeiXin, isMQQ, isMWeibo, isJianghuDaily };\n//# sourceMappingURL=index.es.js.map\n","import checkIsMasterEnv from '../utils/check-is-master-env';\n\nexport const XOYO_ROOT_API = checkIsMasterEnv() ? '//ws.xoyo.com' : '//test-ws.xoyo.com';\n// xoyo注册接口前缀\nexport const XOYO_LOGIN_API = checkIsMasterEnv() ? '//pf-api.xoyo.com' : '//my-api-dev.xoyo.com';\n// xoyo通用接口前缀\nexport const PASSPORT_ROOT_ADDRESS = `${XOYO_LOGIN_API}/passport/common_api`;\n// 移动端跳转登录接口\n// eslint-disable-next-line max-len\nexport const MOBILELOGIN_URL = checkIsMasterEnv() ? '//m.xoyo.com/passport/signin.html' : '//m-dev.xoyo.com/passport/signin.html';\n","import checkIsMasterEnv from '../utils/check-is-master-env';\nimport isWeiXin from '../utils/is-weixin';\nimport isMQQ from '../utils/is-mqq';\nimport isMWeibo from '../utils/is-mweibo';\nimport isDailyApp from '../utils/is-daily-app';\n\n/**\n * 全局配置\n */\nexport default class GlobalConfig {\n  constructor() {\n    /**\n     * 是否是正式环境\n     */\n    this._isMaster = checkIsMasterEnv;\n    /**\n       * 是否仅仅只限制 daily 登录\n       */\n    this._isDailyOnly = false;\n    /**\n       * 登录类型\n       */\n    // eslint-disable-next-line max-len\n    this._loginType = [isDailyApp() && 'daily', isWeiXin() && 'wechat', isMQQ() && 'qq', isMWeibo() && 'weibo', 'h5'].filter(Boolean)[0];\n    /**\n       * 当前是否是 daily app\n       */\n    this._isDailyApp = isDailyApp();\n    /**\n       * 是否已经进入授权区域\n       */\n    this._hasEnterAuth = false;\n  }\n\n  get isMaster() {\n    return this._isMaster;\n  }\n\n  get isDailyOnly() {\n    return this._isDailyOnly;\n  }\n  set isDailyOnly(newStatus) {\n    this._isDailyOnly = newStatus;\n  }\n\n  get loginType() {\n    return this._loginType;\n  }\n\n  get isDailyApp() {\n    return this._isDailyApp;\n  }\n  set isDailyApp(newStatus) {\n    this._isDailyApp = newStatus;\n  }\n\n  get hasEnterAuth() {\n    return this._hasEnterAuth;\n  }\n  set hasEnterAuth(newStatus) {\n    this._hasEnterAuth = newStatus;\n  }\n\n};\n","/**\n * MIT license\n */\n\n// Callback index.\nvar count = 0;\n\n/**\n * JSONP handler\n *\n * Options:\n * - prefix {String} callback prefix (defaults to `__jp`)\n * - param {String} qs parameter (defaults to `callback`)\n * - timeout {Number} how long after the request until a timeout error\n *   is emitted (defaults to `15000`)\n *\n * @param {String} url\n * @param {Object} options optional options\n * @return {Object} Returns a response promise and a cancel handler.\n */\nvar jsonp = function(url, options) {\n    options = options || {};\n\n    var prefix = options.prefix || '__jp';\n    var param = options.param || 'callback';\n    var timeout = options.timeout ? options.timeout : 15000;\n    var target = document.getElementsByTagName('script')[0] || document.head;\n    var script;\n    var timer;\n    var cleanup;\n    var cancel;\n    var promise;\n    var noop = function() {};\n\n    // Generate a unique id for the request.\n    var id = prefix + (count++);\n\n    cleanup = function() {\n        // Remove the script tag.\n        if (script && script.parentNode) {\n            script.parentNode.removeChild(script);\n        }\n\n        window[id] = noop;\n\n        if (timer) {\n            clearTimeout(timer);\n        }\n    };\n\n    promise = new Promise(function(resolve, reject) {\n        if (timeout) {\n            timer = setTimeout(function() {\n                cleanup();\n                reject(new Error('Timeout'));\n            }, timeout);\n        }\n\n        window[id] = function(data) {\n            cleanup();\n            resolve(data);\n        };\n\n        // Add querystring component\n        url += (~url.indexOf('?') ? '&' : '?') + param + '=' + encodeURIComponent(id);\n        url = url.replace('?&', '?');\n\n        // Create script.\n        script = document.createElement('script');\n        script.src = url;\n        target.parentNode.insertBefore(script, target);\n\n        cancel = function() {\n            if (window[id]) {\n                cleanup();\n                reject(new Error('Canceled'));\n            }\n        };\n\n    });\n\n    return {\n        promise: promise,\n        cancel: cancel\n    };\n};\n\nmodule.exports = jsonp;\n\n","import createAuth from './create-auth';\n\n/**\n * 创建授权错误\n * @param {object} data - 授权数据\n * @param {boolean} isXoyo - 是否是 xoyo 授权\n */\nconst createAuthError = (data, isXoyo) => {\n  return createAuth('error', data, isXoyo);\n};\n\nexport default createAuthError;\n","import createAuth from './create-auth';\n\n/**\n * 创建授权成功\n * @param {string} data - 授权数据\n *  @param {boolean} isXoyo - 是否是 xoyo 授权\n *  @param {boolean} isXoyo - 是否是 xoyo 授权\n */\nconst createAuthSuccess = (data, isXoyo) => {\n  return createAuth('success', data, isXoyo);\n};\n\nexport default createAuthSuccess;\n","import services from './services';\nimport isMQQ from '../../utils/is-mqq';\nimport isWeiXin from '../../utils/is-weixin';\nimport createAuthSuccess from '../../utils/create-auth-success';\nimport createAuthError from '../../utils/create-auth-error';\nimport GlobalConfig from '../../global-config';\n\n/**\n * QQ微信授权信息获取登录\n * @returns {Promise<unknown>}\n */\nconst getQQWeixinAuth = async () => {\n  let qqWeixinAuthInfo;\n\n  if (isWeiXin() || isMQQ()) {\n    const globalConfig = new GlobalConfig();\n\n    const currentUserInfo = await services.getCurrentUserInfo();\n    let requireThirdPartyLogin = false;\n\n    if (currentUserInfo.status === 1 /* 成功 */) {\n      /**\n       * 创建授权成功\n       */\n      qqWeixinAuthInfo = createAuthSuccess(currentUserInfo.data);\n    } else {\n      if (currentUserInfo.code === -14601 /* 需要授权*/) {\n        /**\n         * 标识需要第三方授权登录\n         * @type {boolean}\n         */\n        requireThirdPartyLogin = true;\n      }\n      /**\n       * 授权授权失败对象\n       */\n      qqWeixinAuthInfo = createAuthError(currentUserInfo);\n      /**\n       * 在异步栈抛异常, 防止主线程崩溃\n       */\n      // setTimeout(function () {\n      //   throw new Error('第三方授权异常: ' + JSON.stringify(errorObject));\n      // });\n    }\n\n    if (requireThirdPartyLogin) {\n      const loginType = globalConfig.loginType;\n\n      /**\n       * 获取授权地址\n       * @param {object} response\n       * @private\n       */\n      const response = await services.getAuthUrl({loginType});\n\n      if (response.status === 1 /* 成功 */) {\n        window.location.href = response.data.auth_url;\n      } else {\n        throw new Error('第三方获取授权地址异常: ' + JSON.stringify(response));\n      }\n    }\n\n  }\n  return qqWeixinAuthInfo;\n};\n\nexport default getQQWeixinAuth;\n","/**\n * 获取 URL 参数名\n * @param name\n * @param url\n * @returns {string|null}\n */\nconst getUrlParameterByName = (name, url) => {\n  if (!url) url = window.location.href;\n  name = name.replace(/[[]]/g, '$&');\n  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url);\n\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n};\n\nexport default getUrlParameterByName;\n","import getDailyToken from './utils/get-daily-token';\nimport removeUrlParam from '../../utils/remove-url-param';\nimport replaceUrlWithoutReloading from '../../utils/replace-url-without-reloading';\nimport services from './services';\nimport createAuthSuccess from '../../utils/create-auth-success';\nimport createAuthError from '../../utils/create-auth-error';\nimport isDailyApp from '../../utils/is-daily-app';\nimport getUrlParameterByName from '../../utils/get-url-parameter-by-name';\nimport GlobalConfig from '../../global-config';\n\nconst getDailyAuth = async ({token, limitGuest = 1, limitOnlyHasJx3RoleAccessInDaily = false} = {}) => {\n  let dailyAutoInfo;\n\n  if (isDailyApp()) {\n    /**\n     * 获取全局配置\n     * @type {GlobalConfig}\n     */\n    const globalConfig = new GlobalConfig();\n\n    if (!globalConfig.hasEnterAuth) {\n      globalConfig.hasEnterAuth = true;\n\n      token = token || (getUrlParameterByName('token') || getUrlParameterByName('ssoToken'));\n\n      if (!token) {\n        token = (() => {\n          const token = getDailyToken();\n\n          /**\n           * 获取url中的token参数\n           */\n          const nextSearch = removeUrlParam(window.location.search, 'token');\n\n          /**\n           * 不刷新页面的情况下替换携带token的url\n           */\n          // eslint-disable-next-line max-len\n          replaceUrlWithoutReloading(window.location.pathname + removeUrlParam(nextSearch, 'ssoToken') + window.location.hash);\n\n          return token;\n        })();\n      }\n    }\n\n    /**\n     * 根据token进行登录Daily\n     */\n    const response = await services.loginByToken({limitGuest, limitOnlyHasJx3RoleAccessInDaily, token});\n\n    if (response.status !== 1 /* 失败 */) {\n      window.location.href = 'https://jx3.seasungame.com/error-pages/index.html?login-expired';\n      throw new Error('DAILY_APP_AUTH 登录态失效，请重新登录: ' + JSON.stringify(response));\n    }\n\n    const accountInfo = await services.getAccountInfo();\n\n    if (accountInfo.status === 1 /* 成功 */) {\n      dailyAutoInfo = createAuthSuccess(accountInfo.data);\n      /**\n       * 判断当前用户下是否有角色, 如果有将禁止其问访, 仅在 LIMIT_ONLY_HAS_JX3_ROLE_ACCESS_IN_DAILY 开关开启后生效\n       */\n      if (limitOnlyHasJx3RoleAccessInDaily && accountInfo.data.app_default_passport_roles &&\n        accountInfo.data.app_default_passport_roles.length === 0) {\n        window.location.href = 'https://jx3.seasungame.com/error-pages/index.html?no-account';\n      }\n    } else {\n      /* 登录态失效，请重新登录 */\n      if (accountInfo.code === -14702) {\n        window.location.href = 'https://jx3.seasungame.com/error-pages/index.html?login-expired';\n        throw new Error('DAILY_APP_AUTH 登录态失效，请重新登录: ' + JSON.stringify(response));\n      }\n      dailyAutoInfo = createAuthError(accountInfo);\n      // const errorObject = createAuthError(accountInfo);\n\n      // setTimeout(function () {\n      //   throw new Error('DAILY_APP_AUTH 授权异常: ' + JSON.stringify(errorObject));\n      // });\n    }\n  }\n  return dailyAutoInfo;\n};\n\nexport default getDailyAuth;\n","\n/**\n * 全局配置\n */\nexport default class GlobalAuthData {\n  constructor() {\n    /**\n     * xoyo登录信息\n     * @type {{}}\n     * @private\n     */\n    this._XOYO_AUTH = {};\n    /**\n     * 第三方登录授权信息\n     * @type {{}}\n     * @private\n     */\n    // eslint-disable-next-line camelcase\n    this._THIRD_PARTY_AUTH = {};\n  }\n\n  get XOYO_AUTH() {\n    return this._XOYO_AUTH;\n  }\n  set XOYO_AUTH(data) {\n    this._XOYO_AUTH = data;\n  }\n\n  // eslint-disable-next-line camelcase\n  get THIRD_PARTY_AUTH() {\n    return this._THIRD_PARTY_AUTH;\n  }\n  // eslint-disable-next-line camelcase\n  set THIRD_PARTY_AUTH(data) {\n    // eslint-disable-next-line camelcase\n    this._THIRD_PARTY_AUTH = data;\n  }\n};\n","import {getUserAgent} from 'detect-mobile-device';\n\n/**\n * 是否是 daily app\n * @return {boolean}\n */\nfunction isDailyApp() {\n  return /jianghudaily/i.test(getUserAgent());\n}\n\nexport default isDailyApp;\n","/**\n * 判断是否是手机\n * @return {boolean}\n */\nimport {getUserAgent} from 'detect-mobile-device';\n\nconst isMobile = () => {\n  var userAgent = getUserAgent();\n\n  // eslint-disable-next-line max-len\n  return (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series([46])0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent) ||\n    // eslint-disable-next-line\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ -\\/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ \\/])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(userAgent.substr(0, 4)));\n};\n\nexport default isMobile;\n","import {getUserAgent} from 'detect-mobile-device';\nimport isMobile from './is-mobile';\nimport isIOS from './is-ios';\nimport isAndroid from './is-android';\n\n/**\n * 判断是否是手机qq\n * @return {boolean}\n */\nconst isMQQ = () => {\n  const userAgent = getUserAgent();\n  const isIOSQQ = isIOS() && / QQ/i.test(userAgent);\n  // eslint-disable-next-line max-len\n  const isAndroidQQ = isAndroid() && /MQQBrowser/i.test(navigator.userAgent) && /QQ/i.test(userAgent.split('mqqbrowser'));\n\n  return isMobile() && (isIOSQQ || isAndroidQQ);\n};\n\nexport default isMQQ;\n","/**\n * 是否是 微信 设备\n * @return {boolean}\n */\nimport {getUserAgent} from 'detect-mobile-device';\n\nconst isWeiXin = () => {\n  var userAgent = getUserAgent();\n\n  return String(userAgent.match(/MicroMessenger/i)) === 'micromessenger';\n};\n\nexport default isWeiXin;\n","import GlobalConfig from '../global-config';\nimport GlobalAuthData from '../global-auth-data';\n\n/**\n * 创建授权对象\n * @param {'success'|'error'} status - 授权状态, 成功或失败, success | error\n * @param {object} data - 数据\n * @param {boolean} [isXoyo] - 是否是 xoyo 授权\n */\nconst createAuth = (status, data, isXoyo) =>{\n  const globalAuthName = isXoyo ? 'XOYO_AUTH' : 'THIRD_PARTY_AUTH';\n  const globalConfig = new GlobalConfig();\n  const globalAuthData = new GlobalAuthData();\n\n  const authResponse = {\n    ua: globalConfig.loginType,\n    status: status,\n    data: data\n  };\n\n  globalAuthData[globalAuthName] = authResponse;\n  return globalAuthData[globalAuthName];\n\n};\n\nexport default createAuth;\n","/**\n * 判断当前环境是否是正式环境\n * @returns {boolean|boolean}\n */\nconst checkIsMasterEnv = () => {\n  const {hostname} = window.location;\n  const isNotTest = hostname.indexOf('test') === -1;\n  const isXoyoHost = hostname.indexOf('xoyo.com') > -1;\n\n  // return isMaster === undefined ? isMaster : (isNotTest && isXoyoHost);\n  return isNotTest && isXoyoHost;\n};\n\nexport default checkIsMasterEnv;\n","import services from './services';\nimport createAuthSuccess from '../../utils/create-auth-success';\nimport createAuthError from '../../utils/create-auth-error';\n\n/**\n * XOYO登录信息获取\n * @returns {Promise<*>}\n */\nconst getXoyoAuth = async () => {\n\n  const response = await services.getInfo();\n  let xoyoAuthData;\n\n  if (response.status === 1) {\n    xoyoAuthData = createAuthSuccess(response.data, true);\n  } else if (response.code === -10402 /* 测试或正式环境未登录 */ || response.code === -20101 /* 测试或正式环境未登录 */) {\n    response.reason = 'require-login';\n    xoyoAuthData = createAuthError(response, true);\n  } else {\n    alert('网络异常, 请稍后重试');\n    throw new Error('passport/common_api/get_info 授权异常: ' + JSON.stringify(response));\n  }\n  return xoyoAuthData;\n\n};\n\nexport default getXoyoAuth;\n","import jsonp from 'jsonp-promise';\nimport {PASSPORT_ROOT_ADDRESS} from '../../constants';\n\nconst generalServices = {\n\n  /**\n   * 退出登录\n   * @returns {{cancel: *, promise: Promise<any>}}\n   */\n  logout: ()=> {\n    return jsonp(`${PASSPORT_ROOT_ADDRESS}/logout`, {}).promise;\n  }\n\n};\n\nexport default generalServices;\n","import generalServices from './services';\nimport {MOBILELOGIN_URL} from '../../constants';\n\nconst GeneralTools = {\n  /**\n   * XOYO移动端登录\n   */\n  login: () => {\n    const encodedURL = window.location.href; // 重定向到本页面\n\n    window.location.href = `${MOBILELOGIN_URL}?redirect=${encodedURL}`;\n  },\n\n  /**\n   * xoyo退出\n   * @param shouldRefresh\n   * @param onSuccess\n   * @param onFail\n   * @returns {Promise<*>}\n   */\n  logout: async ({shouldRefresh = false, onSuccess = {}, onFail = {}}) => {\n\n    const response = await generalServices.logout();\n\n    if (response.status === 1) {\n      shouldRefresh && location.reload();\n      // shouldTips && Toast.success(tipsContent ? tipsContent : '退出登录成功');\n      onSuccess && onSuccess();\n      // onSuccess?.();\n\n    } else {\n      onFail && onFail();\n      // onFail?.();\n    }\n    return response;\n  }\n\n};\n\nexport default GeneralTools;\n","import getDailyAuth from '../daily-auth';\nimport getQQWeixinAuth from '../qq-weixin-auth';\nimport getXoyoAuth from '../xoyo-auth';\nimport GlobalAuthData from '../../global-auth-data';\n\n/**\n * 自动根据app环境返回登录信息\n *\n *  *\n * @example\n *\n * const authInfo = await getAuthInfoByAppEnv();\n * console.log(authInfo);\n *\n * daily:\n * {\n *\t\"ua\": \" daily\",\n *\t\"status\": \" success\",\n *\t\"data\": {\n *  \t\"uid_encode\": \" 99bcb26b5b5859024e128f30b6317da5ee8886b2\",\n *  \t\"external_id_name\": \"passport\",\n *  \t\"account\": \"136***424\",\n *  \t\"zone_name\": \"null\",\n *  \t\"server_name\": \"null\",\n *  \t\"role_name\": \"\",\n *  \t\"token\": \"b93039cd0a9642b 7 bce95597d1b9b145 \",\n *  \t\"force\": null,\n *  \t\"bodily\": null,\n *  \t\"person_name\": \"壹加壹\",\n *  \t\"person_avatar\": \"https://dl.pvp.xoyo.com/static/avatars/moren1@2x.png\",\n *  \t\"is_wegame\": 0,\n *  \t\"app_default_ passport_ roles\": null,\n *\t  \"session_id'\": \" GdSkBWQr01RSzsbbvfCEanL445CeXCFSzbIJlMum\",\n *\t  \"request_id\": \" 4ba9d5cbc992ea9f62143f32b5ac70ea1a52f29f\"\n *\t}\n *}\n *\n * 微信:\n *{\n *  \"ua\": \"wechat\",\n *  \"status\": \" success\",\n *  \"data\": {\n *\t  \"login_type\": \"wechat\",\n *\t  \"uid\": \"壹\",\n *\t  \"head_img_ url\": \"//thirdwx.qlogo.cn/mmopen/vi_32/.../132\",\n *\t  \"city\": \"湛江\",\n *\t  \"sex\": 1,\n *\t  \"nickname\": \"壹\",\n *\t  \"uid_encode \": \"49308ecac7a551c9c2c6c4b3558619d3c34b6e8d \",\n *\t  \"session_id \": \"OQo5ZijqWZUPdkdWlM7so3BrGNG63nk23zeQo7Ov \",\n *\t  \"request_id \": \"ea04989dab061489d99ff558c60e50f20f4f3967 \"\n *  }\n *}\n * XOYO:\n * {\n *\t\"code\": 1,\n *\t\"data\": {\n *\t\t\"account\": \"hdt******007\",\n *\t\t\"account_uid\": \"200f51285985df39663d505a7a800b72021d52e3\",\n *\t\t\"pf\": \"\",\n *\t\t\"request_id\": \"8b96de3626fc81be5f63de95418ea4e8ba978333\"\n *\t},\n *\t\"status\": 1,\n *\t\"msg\": \"SUCCESS\",\n *\t\"message\": \"SUCCESS\"\n * }\n *\n *\n * @param daily daily端\n * @param limitOnlyHasJx3RoleAccessInDaily 是否限制只有存在剑网3角色的用户登录\n * @param weixinQQ 微信QQ端\n * @param xoyo 使用金山通行证登录\n * @param debug 是否进行登录信息提示\n * @param disable 禁止登录模块\n * @returns {Promise<GlobalAuthData>}\n */\n// eslint-disable-next-line max-len\nconst getAuthInfoByAppEnv = async ({daily = true, limitOnlyHasJx3RoleAccessInDaily = false, weixinQQ = true, xoyo = true, debug = false, disable = false}) => {\n  let response;\n  const globalAuthData = new GlobalAuthData();\n\n  if (!disable) {\n    if (daily) {\n      response = await getDailyAuth({limitOnlyHasJx3RoleAccessInDaily: limitOnlyHasJx3RoleAccessInDaily});\n      globalAuthData.THIRD_PARTY_AUTH = response;\n    } else {\n      if (weixinQQ) {\n        response = await getQQWeixinAuth();\n        globalAuthData.THIRD_PARTY_AUTH = response;\n      }\n    }\n\n    if (xoyo) {\n      response = await getXoyoAuth();\n      globalAuthData.XOYO_AUTH = response;\n    }\n    if (debug) {\n      setTimeout(function () {\n        // eslint-disable-next-line max-len\n        alert('THIRD_PARTY_AUTH\\n' + JSON.stringify(globalAuthData.THIRD_PARTY_AUTH));\n        alert('XOYO_AUTH\\n' + JSON.stringify(globalAuthData.XOYO_AUTH));\n      }, 800);\n    }\n  }\n\n  return globalAuthData;\n};\n\nexport default getAuthInfoByAppEnv;\n","import jsonp from 'jsonp-promise';\nimport {XOYO_ROOT_API} from '../../constants';\n\nconst services = {\n\n  /**\n   * 获取用户账号信息\n   * @returns {Promise<unknown>}\n   */\n  getCurrentUserInfo: ()=>{\n\n    const qs = `ts=${+new Date()}`;\n\n    return jsonp(`${XOYO_ROOT_API}/core/thirdlogin/get_current_user_info?${qs}`, {}).promise;\n  },\n\n  /**\n   * 获取登录信息地址\n   * @param loginType\n   * @param callbackUrl\n   * @returns {Promise<unknown>}\n   */\n  // eslint-disable-next-line max-len\n  getAuthUrl: ({loginType, callbackUrl = encodeURIComponent(window.location.href) }) => {\n    const qs = `ts=${+new Date()}&login_type=${loginType}&font_callback=${callbackUrl}`;\n\n    return jsonp(`${XOYO_ROOT_API}/core/thirdlogin/get_auth_url?${qs}`, {}).promise;\n  }\n};\n\nexport default services;\n","import jsonp from 'jsonp-promise';\nimport {XOYO_ROOT_API} from '../../constants';\n\nconst services = {\n  /**\n   * 通过 token 登录\n   * @param limitGuest\n   * @param token\n   * @param limitOnlyHasJx3RoleAccessInDaily\n   * @returns {{cancel: *, promise: Promise<any>}}\n   */\n  loginByToken: ({limitGuest = 1, token, limitOnlyHasJx3RoleAccessInDaily = false}) => {\n    // eslint-disable-next-line max-len\n    const qs = `ts=${+new Date()}&limit_guest=${limitGuest}&token=${token}${limitOnlyHasJx3RoleAccessInDaily ? '&query_default_passport_roles=1' : ''}`;\n\n    return jsonp(`${XOYO_ROOT_API}/core/jhdaily/login_by_token?${qs}`, {}).promise;\n  },\n\n  /**\n   * 获取用户登录信息\n   * @returns {{cancel: *, promise: Promise<any>}}\n   */\n  getAccountInfo: () => {\n    const qs = `ts=${+new Date()}`;\n\n    return jsonp(`${XOYO_ROOT_API}/core/jhdaily/get_current_account?${qs}`, {}).promise;\n  }\n\n};\n\nexport default services;\n","/**\n * 在不刷新页面的情况下替换 url\n * @param {string} nextUrl - 下一个将要替换的 url, 注意必须同源\n */\nconst replaceUrlWithoutReloading = (nextUrl) => {\n  window.history.replaceState({}, document.title, nextUrl);\n};\n\nexport default replaceUrlWithoutReloading;\n","/**\n * 移除 url 参数\n * @param url\n * @param parameter\n * @returns {*}\n */\nconst removeUrlParam = (url, parameter) => {\n  const urlParts = url.split('?');\n\n  if (urlParts.length >= 2) {\n    const prefix = encodeURIComponent(parameter) + '=';\n    const pars = urlParts[1].split(/[&;]/g);\n\n    for (let i = pars.length; i-- > 0;) {\n      if (pars[i].lastIndexOf(prefix, 0) !== -1) {\n        pars.splice(i, 1);\n      }\n    }\n    return urlParts[0] + (pars.length > 0 ? '?' + pars.join('&') : '');\n  }\n  return url;\n};\n\nexport default removeUrlParam;\n","import getUrlParameterByName from '../../../utils/get-url-parameter-by-name';\n\n/**\n * 获取推栏 daily 授权 token\n * @returns {string | null}\n */\n\nconst getDailyToken = () => {\n  return getUrlParameterByName('token') || getUrlParameterByName('ssoToken') || null;\n};\n\nexport default getDailyToken;\n","import {getUserAgent} from 'detect-mobile-device';\nimport isMobile from './is-mobile';\n\n/**\n * 判断是否是手机微博 UA\n * @return {boolean}\n */\nconst isMWeibo = () => {\n  const userAgent = getUserAgent();\n\n  return isMobile() && /(weibo)/.test(userAgent);\n};\n\nexport default isMWeibo;\n","import {getUserAgent} from 'detect-mobile-device';\n\n/**\n * 判断是否是 android 设备\n * @return {boolean}\n */\nconst isAndroid = () => {\n  return /android/i.test(getUserAgent());\n};\n\nexport default isAndroid;\n","import {getUserAgent} from 'detect-mobile-device';\n\n/**\n * 判断是否 ios 设备\n * @return {boolean}\n */\nconst isIOS = () => {\n  return /iPad|iPhone|iPod/i.test(getUserAgent()) && !window.MSStream;\n};\n\nexport default isIOS;\n","import {XOYO_LOGIN_API} from '../../constants';\nimport jsonp from 'jsonp-promise';\n\nconst services = {\n\n  /**\n   * 获取xoyo登录信息\n   * @returns {{cancel: *, promise: Promise<any>}}\n   */\n  getInfo: ()=> {\n    const qs = `ts=${+new Date()}`;\n\n    return jsonp(`${XOYO_LOGIN_API}/passport/common_api/get_info?ts=${qs}`, {}).promise;\n  }\n\n};\n\nexport default services;\n","import getXoyoAuth from './auth/xoyo-auth';\nimport getDailyAuth from './auth/daily-auth';\nimport getQQWeixinAuth from './auth/qq-weixin-auth';\nimport getAuthInfoByAppEnv from './auth/authInfo-by-appEnv';\nimport GeneralTools from './auth/general';\nrequire('./global-config');\n\nexport {getXoyoAuth, getDailyAuth, getQQWeixinAuth, GeneralTools, getAuthInfoByAppEnv };\n"],"sourceRoot":""}